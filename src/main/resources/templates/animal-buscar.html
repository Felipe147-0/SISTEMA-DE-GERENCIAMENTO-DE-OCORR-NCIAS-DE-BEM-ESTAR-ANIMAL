<!DOCTYPE html>
<html lang="en">

<head th:replace="~{fragments/headPrincipal :: headBase}"></head>

<body>

<!-- Filtro de pesquisa -->
<form th:action="@{/animal/buscar}" method="get" class="d-flex form-filtro">
    <div class="input-group">
        <input type="text" class="form-control" name="query" placeholder="Buscar animal..." th:value="${query}">
        <button class="btn btn-outline-secondary" type="submit" style="margin-top:4px;">
            <i class="bi bi-search"></i>
        </button>
    </div>
</form>

<div class="container container-listar">
    <!-- Botões de ação -->
    <div class="d-flex justify-content-center gap-2 mt-4 mb-4">
        <a th:href="@{/administracao}" class="btn btn-primary btn-custom">VOLTAR</a>
        <a th:href="@{/animal/cadastro}" class="btn btn-success">ADICIONAR ANIMAL</a>
    </div>

    <!-- Lista de animais -->
    <ul class="list-group mt-3">
        <li class="list-group-item" th:each="animal : ${animalList}">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <strong th:text="${animal.registro}">Nome do Animal</strong>
                    
                    <!-- Chip badge: vermelho se não possui chip -->
                    <span th:text="${animal.possuiChip ? 'Chip: ' + animal.numeroChip : 'Sem chip'}"
                          th:classappend="${!animal.possuiChip} ? 'badge bg-danger ms-2' : 'badge bg-info ms-2'">
                    </span>

                    <div class="text-muted" th:text="${animal.observacao}">Observações</div>
                </div>
                <div>
                    <a th:href="@{/animal/perfil/{id}(id=${animal.idAnimal})}" class="btn btn-sm btn-primary">VER</a>
                    <a th:href="@{/animal/editar/{id}(id=${animal.idAnimal})}" class="btn btn-sm btn-warning">EDITAR</a>
                </div>
            </div>
        </li>
    </ul>
</div>

</body>
</html>
